<!DOCTYPE html>
<html lang='en'>
<meta charset='utf-8' />
<meta name='viewport'
      content='width=device-width, initial-scale=1.0, user-scalable=yes' />
<title>hypomnema  â€“ Example page</title>
<link rel='icon' type='image/x-icon' href='favicon.ico' />
<link rel='alternate'
      type='application/atom+xml'
      title='Atom'
      href='http://hypomnema.net/feed.atom'>

  <link rel='stylesheet' href='style.css' />

<header id='title-block-header'>
  <h1 class='sitename'>hypomnema</h1>
  <nav class='global-nav'>
    <a href='/'>Home</a>
    <a href='about'>About</a>
    <a href='contact'>Contact</a>
  </nav>
  <div class='search'>
    <input type='text' id='query' onkeyup='doSearch()' placeholder='Search'>
    <ul id='results'>
    </ul>
  </div>
</header>

<main>
<h2 class='title'>Example page</h2>
<p>Lorem ipsum dolor si amet.</p>
<h3 id="h3">h3</h3>
<figure>
<img src="https://source.unsplash.com/random" title="alt text" alt="" /><figcaption>Caption</figcaption>
</figure>
<h4 id="h4">h4</h4>
<p>Odio sed voluptatibus vel <a href="ddg.gg" title="DuckDuckGo">beatae</a> possimus vero dignissimos quo. Earum aut id distinctio et repudiandae exercitationem nulla voluptate. Nemo corrupti libero natus et <code>non</code> officia. Eligendi atque omnis et. Quasi sunt consequatur corrupti aspernatur sit sed maiores autem.</p>
<blockquote>
<p>distinctio et repudiandae exercitationem nulla voluptate. Nemo corrupti libero distinctio et repudiandae exercitationem nulla voluptate. Nemo corrupti libero</p>
</blockquote>
<p>Odio sed voluptatibus vel beatae possimus vero dignissimos quo. Earum aut id distinctio et repudiandae exercitationem nulla voluptate. Nemo corrupti libero natus et <em>non</em> officia. Eligendi atque omnis et. Quasi sunt consequatur corrupti aspernatur sit sed maiores autem.</p>
<h5 id="h5">h5</h5>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 6%" />
<col style="width: 5%" />
<col style="width: 5%" />
<col style="width: 4%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 5%" />
<col style="width: 4%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 9%" />
</colgroup>
<thead>
<tr class="header">
<th>one</th>
<th>two</th>
<th>three</th>
<th>four</th>
<th>five</th>
<th>six</th>
<th>seven</th>
<th>eight</th>
<th>nine</th>
<th>ten</th>
<th>eleven</th>
<th>twelve</th>
<th>thirteen</th>
<th>fourteen</th>
<th>fifteen</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>5</td>
<td>6</td>
<td>7</td>
<td>8</td>
<td>9</td>
<td>10</td>
<td>11</td>
<td>12</td>
<td>13</td>
<td>14</td>
<td>15</td>
</tr>
<tr class="even">
<td>I</td>
<td>II</td>
<td>III</td>
<td>IV</td>
<td>V</td>
<td>VI</td>
<td>VII</td>
<td>VIII</td>
<td>IX</td>
<td>X</td>
<td>XI</td>
<td>XII</td>
<td>XIII</td>
<td>XIV</td>
<td>XV</td>
</tr>
<tr class="odd">
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>5</td>
<td>6</td>
<td>7</td>
<td>8</td>
<td>9</td>
<td>10</td>
<td>11</td>
<td>12</td>
<td>13</td>
<td>14</td>
<td>15</td>
</tr>
<tr class="even">
<td>I</td>
<td>II</td>
<td>III</td>
<td>IV</td>
<td>V</td>
<td>VI</td>
<td>VII</td>
<td>VIII</td>
<td>IX</td>
<td>X</td>
<td>XI</td>
<td>XII</td>
<td>XIII</td>
<td>XIV</td>
<td>XV</td>
</tr>
</tbody>
</table>
<h6 id="h6">h6</h6>
<pre><code>This is some very long pre text
Here it is again ----------------------------------------------------------------------------------------------- --------&gt; !</code></pre>
</main>

<footer>
  <a href='https://creativecommons.org/licenses/by/4.0/'>
    <img alt='Creative Commons license' src='cc.svg'>
  </a>
  <p class='date'>Last modified: 01-01-01</p>
  <a href='/feed.atom'>
    <img alt='Atom feed' src='feed.svg'>
  </a>
</footer>

<script type='module'>
  import { search, default as init } from './tinysearch_engine.js';
  window.search = search;

  async function run() {
    await init('./tinysearch_engine_bg.wasm');
  }

  run();
</script>

<script>
  function doSearch() {
    let value = document.getElementById('query').value;
    const arr = search(value, 10);
    let ul = document.getElementById('results');
    ul.innerHTML = '';

    for (i = 0; i < arr.length; i++) {
      var li = document.createElement('li');

      let elem = arr[i];
      let elemlink = document.createElement('a');
      elemlink.innerHTML = elem[0];
      elemlink.setAttribute('href', elem[1]);
      li.appendChild(elemlink);

      ul.appendChild(li);
    }
  }
</script>
